{% from "govuk/components/button/macro.njk" import govukButton %}
{% from './components/renderFields.njk' import renderFields %}

{% extends './layouts/layout.njk' %}

{% block pageTitle %}
  {{siteTitle}}
{% endblock %}
{% block content %}
  {% include "partials/scripts/status-checker.njk" %}
  <div class="govuk-width-container">
    <div class="govuk-main-wrapper--auto-spacing">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <form method="POST" action="/jbpm-communicator" autocomplete="off" novalidate>

            {% if(fields.shared) %}
              {{ renderFields(fields.shared) }}
            {% endif %}
            
            {% for key , value in fields %}
              {% if (key != 'shared') %}
              <h1 class="govuk-heading-xl">{{SCHEME_DISPLAY_DICTIONARY[key]}}</h1>
              {{ renderFields(fields[key]) }}
              {% endif %}
            {% endfor %} 
            
            {{ govukButton({
              text: "Save and continue"
            }) }}
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
